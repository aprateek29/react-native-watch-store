{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { ADD_TO_CART, LOAD_CURRENT_ITEM, LOAD_CURRENT_BRAND, REMOVE_FROM_CART, GET_CART_TOTAL } from \"../actions/types\";\n\nvar watch_one = require(\"../assets/images/watch-one.jpg\");\n\nvar watch_two = require(\"../assets/images/watch-two.jpg\");\n\nvar watch_three = require(\"../assets/images/watch-three.jpg\");\n\nvar watch_four = require(\"../assets/images/watch-four.jpg\");\n\nvar initialState = {\n  products: [{\n    id: '1',\n    name: 'sliver 34rs9',\n    brand: 'Rolex',\n    price: 659.99,\n    origin: 'UK',\n    strapType: 'metal',\n    warranty: 1,\n    image: watch_one\n  }, {\n    id: '2',\n    name: 'glider 34f',\n    brand: 'Devogue',\n    price: 599.99,\n    origin: 'USA',\n    strapType: 'gold',\n    warranty: 2,\n    image: watch_two\n  }, {\n    id: '3',\n    name: 'Wrez o3sx',\n    brand: 'Grace',\n    price: 899.99,\n    origin: 'Japan',\n    strapType: 'leather',\n    warranty: 1,\n    image: watch_three\n  }, {\n    id: '4',\n    name: 'Bxxy sr43',\n    brand: 'Gucci',\n    price: 899.99,\n    origin: 'US',\n    strapType: 'leather',\n    warranty: 3,\n    image: watch_four\n  }],\n  brands: [{\n    id: '1',\n    origin: 'Switzerland',\n    name: 'Patek Philippe',\n    image: watch_one\n  }, {\n    id: '2',\n    origin: 'Switzerland',\n    name: 'Audemars Piguet',\n    image: watch_two\n  }, {\n    id: '3',\n    origin: 'Geneva',\n    name: 'Vacheron Constantin',\n    image: watch_three\n  }, {\n    id: '4',\n    origin: 'Geneva',\n    name: 'Hublot',\n    image: watch_four\n  }, {\n    id: '5',\n    origin: 'Germany',\n    name: 'Lange & Söhne',\n    image: watch_one\n  }],\n  currentItem: {},\n  currentBrand: {},\n  cartItems: [],\n  cartTotal: 0,\n  inCart: false\n};\n\nvar shopReducer = function shopReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOAD_CURRENT_ITEM:\n      var item = state.products.filter(function (item) {\n        return item.id === action.payload;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        currentItem: item\n      });\n\n    case LOAD_CURRENT_BRAND:\n      var brand = state.brands.filter(function (brand) {\n        return brand.id === action.payload;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        currentBrand: brand[0]\n      });\n\n    case ADD_TO_CART:\n      var citem = state.cartItems.filter(function (item) {\n        return item.id === action.payload;\n      });\n\n      if (citem.length === 1) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          inCart: true\n        });\n      }\n\n      citem = state.products.filter(function (item) {\n        return item.id === action.payload;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cartItems: [].concat(_toConsumableArray(state.cartItems), _toConsumableArray(citem)),\n        inCart: false\n      });\n\n    case REMOVE_FROM_CART:\n      var newCartItems = state.cartItems.filter(function (item) {\n        return item.id !== action.payload;\n      });\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cartItems: newCartItems\n      });\n\n    case GET_CART_TOTAL:\n      var total = 0;\n\n      if (state.cartItems.length > 1) {\n        total = state.cartItems.map(function (item) {\n          return item.price;\n        }).reduce(function (prev, next) {\n          return prev + next;\n        });\n        total = total.toFixed(2);\n      } else if (state.cartItems.length === 0) {\n        total = 0;\n      } else {\n        total = state.cartItems[0].price;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        cartTotal: total\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["C:/Users/aprat/Desktop/rnative/watch-store/src/reducers/shopReducer.js"],"names":["ADD_TO_CART","LOAD_CURRENT_ITEM","LOAD_CURRENT_BRAND","REMOVE_FROM_CART","GET_CART_TOTAL","watch_one","require","watch_two","watch_three","watch_four","initialState","products","id","name","brand","price","origin","strapType","warranty","image","brands","currentItem","currentBrand","cartItems","cartTotal","inCart","shopReducer","state","action","type","item","filter","payload","citem","length","newCartItems","total","map","reduce","prev","next","toFixed"],"mappings":"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","sourcesContent":["import {\r\n  ADD_TO_CART,\r\n  LOAD_CURRENT_ITEM,\r\n  LOAD_CURRENT_BRAND,\r\n  REMOVE_FROM_CART,\r\n  GET_CART_TOTAL,\r\n} from '../actions/types';\r\nconst watch_one = require('../assets/images/watch-one.jpg');\r\nconst watch_two = require('../assets/images/watch-two.jpg');\r\nconst watch_three = require('../assets/images/watch-three.jpg');\r\nconst watch_four = require('../assets/images/watch-four.jpg');\r\n\r\nconst initialState = {\r\n  products: [\r\n    {\r\n      id: '1',\r\n      name: 'sliver 34rs9',\r\n      brand: 'Rolex',\r\n      price: 659.99,\r\n      origin: 'UK',\r\n      strapType: 'metal',\r\n      warranty: 1,\r\n      image: watch_one,\r\n    },\r\n    {\r\n      id: '2',\r\n      name: 'glider 34f',\r\n      brand: 'Devogue',\r\n      price: 599.99,\r\n      origin: 'USA',\r\n      strapType: 'gold',\r\n      warranty: 2,\r\n      image: watch_two,\r\n    },\r\n    {\r\n      id: '3',\r\n      name: 'Wrez o3sx',\r\n      brand: 'Grace',\r\n      price: 899.99,\r\n      origin: 'Japan',\r\n      strapType: 'leather',\r\n      warranty: 1,\r\n      image: watch_three,\r\n    },\r\n    {\r\n      id: '4',\r\n      name: 'Bxxy sr43',\r\n      brand: 'Gucci',\r\n      price: 899.99,\r\n      origin: 'US',\r\n      strapType: 'leather',\r\n      warranty: 3,\r\n      image: watch_four,\r\n    },\r\n  ],\r\n  brands: [\r\n    {id: '1', origin: 'Switzerland', name: 'Patek Philippe', image: watch_one},\r\n    {id: '2', origin: 'Switzerland', name: 'Audemars Piguet', image: watch_two},\r\n    {\r\n      id: '3',\r\n      origin: 'Geneva',\r\n      name: 'Vacheron Constantin',\r\n      image: watch_three,\r\n    },\r\n    {id: '4', origin: 'Geneva', name: 'Hublot', image: watch_four},\r\n    {id: '5', origin: 'Germany', name: 'Lange & Söhne', image: watch_one},\r\n  ],\r\n  currentItem: {},\r\n  currentBrand: {},\r\n  cartItems: [],\r\n  cartTotal: 0,\r\n  inCart: false,\r\n};\r\n\r\nconst shopReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_CURRENT_ITEM:\r\n      let item = state.products.filter(item => item.id === action.payload);\r\n      return {...state, currentItem: item};\r\n    case LOAD_CURRENT_BRAND:\r\n      let brand = state.brands.filter(brand => brand.id === action.payload);\r\n      return {...state, currentBrand: brand[0]};\r\n    case ADD_TO_CART:\r\n      let citem = state.cartItems.filter(item => item.id === action.payload);\r\n\r\n      if (citem.length === 1) {\r\n        return {...state, inCart: true};\r\n      }\r\n      citem = state.products.filter(item => item.id === action.payload);\r\n\r\n      return {\r\n        ...state,\r\n        cartItems: [...state.cartItems, ...citem],\r\n        inCart: false,\r\n      };\r\n\r\n    case REMOVE_FROM_CART:\r\n      let newCartItems = state.cartItems.filter(\r\n        item => item.id !== action.payload,\r\n      );\r\n\r\n      return {...state, cartItems: newCartItems};\r\n\r\n    case GET_CART_TOTAL:\r\n      let total = 0;\r\n      if (state.cartItems.length > 1) {\r\n        total = state.cartItems\r\n          .map(item => item.price)\r\n          .reduce((prev, next) => prev + next);\r\n        total = total.toFixed(2);\r\n      } else if (state.cartItems.length === 0) {\r\n        total = 0;\r\n      } else {\r\n        total = state.cartItems[0].price;\r\n      }\r\n\r\n      return {...state, cartTotal: total};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default shopReducer;\r\n"]},"metadata":{},"sourceType":"module"}